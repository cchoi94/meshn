{"version":3,"file":"static/webpack/static/development/pages/index.js.d0acea0b422da6d9e304.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Link from 'next/link';\nimport Layout from '../components/Layout'\nimport { createSelector } from 'reselect'\nimport { connect } from 'react-redux'\nimport { updateUser } from '../redux/actions/user-actions'\nimport { getBookedTimes } from '../redux/actions/gym-actions.js'\nimport Log from '../components/Log'\nimport Login from '../components/Login'\nimport firebaseApp from '../components/Requests/FirebaseConfig'\nimport \"../styles/style.scss\"\n\nclass Index extends React.Component {\n\n  constructor(props) {\n    super(props)\n  }\n\n  logout = () => {\n    firebaseApp.auth().signOut()\n    this.props.onUpdateUser(null)\n  }\n\n  componentDidMount() {\n    // this.props.onAuthListener();\n    firebaseApp.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.props.onUpdateUser(user)\n        this.props.onGetBookedTimes(this.props.user.user_email, 'user')\n      } else {\n         this.props.onUpdateUser(null);\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <p>Activity Log</p>\n        {this.props.user ? \n          <div>\n            <Log \n              type=\"user\"\n              data={this.props.bookedTimes}\n            />\n          </div>\n         : <Login />}\n         <style jsx global>{`\n            .bottomNav {\n               display: ${this.props.user ? null : 'none'}\n              }\n          `}\n          </style>\n      </div>\n    )\n  }\n\n}\n\nconst userSelector = createSelector(\n  state => state.user,\n  user => user\n)\n\nconst bookedTimesSelector = createSelector(\n  state => state.bookedTimes,\n  bookedTimes => bookedTimes\n)\n\nconst mapStateToProps = createSelector(\n  userSelector,\n  bookedTimesSelector,\n  (user, bookedTimes) => ({\n    user,\n    bookedTimes\n  })\n);\n\nconst mapActionsToProps = {\n  onUpdateUser: updateUser,\n  onGetBookedTimes: getBookedTimes,\n}\n\nexport default Layout(connect(mapStateToProps, mapActionsToProps)(Index));"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAKA;AACA;AAAA;AACA;AACA;AARA;AAEA;AACA;;;AAMA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AATA;AAAA;AAAA;AAAA;AAkBA;;;;AA3CA;AACA;AA8CA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AAAA;AACA;AAAA;AAGA;AAGA;AACA;AACA;AAFA;AAAA;AAMA;AACA;AACA;AAFA;AAKA;;;;A","sourceRoot":""}