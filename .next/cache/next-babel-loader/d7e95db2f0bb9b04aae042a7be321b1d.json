{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/codychoi/Desktop/meshn/pages/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\nimport { createSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport { updateUser } from '../redux/actions/user-actions';\nimport { getBookedTimes } from '../redux/actions/gym-actions.js';\nimport Log from '../components/Log';\nimport Login from '../components/Login';\nimport firebaseApp from '../components/Requests/FirebaseConfig';\nimport AppBar from '../components/AppBar';\nimport \"../styles/style.scss\";\n\nvar Index =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Index, _React$Component);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"logout\", function () {\n      firebaseApp.auth().signOut();\n\n      _this.props.onUpdateUser(null);\n    });\n\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // this.props.onAuthListener();\n      firebaseApp.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          _this2.props.onUpdateUser(user);\n\n          _this2.props.onGetBookedTimes(_this2.props.user.user_email, 'user');\n        } else {\n          _this2.props.onUpdateUser(null);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: _JSXStyle.dynamic([[\"4155624869\", [this.props.user ? null : 'none']]]),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, this.props.user ? React.createElement(\"div\", {\n        className: _JSXStyle.dynamic([[\"4155624869\", [this.props.user ? null : 'none']]]) + \" \" + \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        title: \"Activity Log\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }), React.createElement(Log, {\n        type: \"user\",\n        data: this.props.bookedTimes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      })) : React.createElement(Login, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(_JSXStyle, {\n        id: \"4155624869\",\n        dynamic: [this.props.user ? null : 'none'],\n        __self: this\n      }, \".bottomNav{display:\".concat(this.props.user ? null : 'none', \";}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jb2R5Y2hvaS9EZXNrdG9wL21lc2huL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQStDNEIsQUFJYyxxQ0FBQyIsImZpbGUiOiIvVXNlcnMvY29keWNob2kvRGVza3RvcC9tZXNobi9wYWdlcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvTGF5b3V0J1xuaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCdcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7IHVwZGF0ZVVzZXIgfSBmcm9tICcuLi9yZWR1eC9hY3Rpb25zL3VzZXItYWN0aW9ucydcbmltcG9ydCB7IGdldEJvb2tlZFRpbWVzIH0gZnJvbSAnLi4vcmVkdXgvYWN0aW9ucy9neW0tYWN0aW9ucy5qcydcbmltcG9ydCBMb2cgZnJvbSAnLi4vY29tcG9uZW50cy9Mb2cnXG5pbXBvcnQgTG9naW4gZnJvbSAnLi4vY29tcG9uZW50cy9Mb2dpbidcbmltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICcuLi9jb21wb25lbnRzL1JlcXVlc3RzL0ZpcmViYXNlQ29uZmlnJ1xuaW1wb3J0IEFwcEJhciBmcm9tICcuLi9jb21wb25lbnRzL0FwcEJhcidcbmltcG9ydCBcIi4uL3N0eWxlcy9zdHlsZS5zY3NzXCJcblxuY2xhc3MgSW5kZXggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gIH1cblxuICBsb2dvdXQgPSAoKSA9PiB7XG4gICAgZmlyZWJhc2VBcHAuYXV0aCgpLnNpZ25PdXQoKVxuICAgIHRoaXMucHJvcHMub25VcGRhdGVVc2VyKG51bGwpXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAvLyB0aGlzLnByb3BzLm9uQXV0aExpc3RlbmVyKCk7XG4gICAgZmlyZWJhc2VBcHAuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZCgodXNlcikgPT4ge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZVVzZXIodXNlcilcbiAgICAgICAgdGhpcy5wcm9wcy5vbkdldEJvb2tlZFRpbWVzKHRoaXMucHJvcHMudXNlci51c2VyX2VtYWlsLCAndXNlcicpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZVVzZXIobnVsbCk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAge3RoaXMucHJvcHMudXNlciA/IFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8QXBwQmFyIHRpdGxlPVwiQWN0aXZpdHkgTG9nXCIvPlxuICAgICAgICAgICAgPExvZyBcbiAgICAgICAgICAgICAgdHlwZT1cInVzZXJcIlxuICAgICAgICAgICAgICBkYXRhPXt0aGlzLnByb3BzLmJvb2tlZFRpbWVzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDogPExvZ2luIC8+fVxuICAgICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+e2BcbiAgICAgICAgICAgIC5ib3R0b21OYXYge1xuICAgICAgICAgICAgICAgZGlzcGxheTogJHt0aGlzLnByb3BzLnVzZXIgPyBudWxsIDogJ25vbmUnfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgYH1cbiAgICAgICAgICA8L3N0eWxlPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbn1cblxuY29uc3QgdXNlclNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3IoXG4gIHN0YXRlID0+IHN0YXRlLnVzZXIsXG4gIHVzZXIgPT4gdXNlclxuKVxuXG5jb25zdCBib29rZWRUaW1lc1NlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3IoXG4gIHN0YXRlID0+IHN0YXRlLmJvb2tlZFRpbWVzLFxuICBib29rZWRUaW1lcyA9PiBib29rZWRUaW1lc1xuKVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBjcmVhdGVTZWxlY3RvcihcbiAgdXNlclNlbGVjdG9yLFxuICBib29rZWRUaW1lc1NlbGVjdG9yLFxuICAodXNlciwgYm9va2VkVGltZXMpID0+ICh7XG4gICAgdXNlcixcbiAgICBib29rZWRUaW1lc1xuICB9KVxuKTtcblxuY29uc3QgbWFwQWN0aW9uc1RvUHJvcHMgPSB7XG4gIG9uVXBkYXRlVXNlcjogdXBkYXRlVXNlcixcbiAgb25HZXRCb29rZWRUaW1lczogZ2V0Qm9va2VkVGltZXMsXG59XG5cbmV4cG9ydCBkZWZhdWx0IExheW91dChjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwQWN0aW9uc1RvUHJvcHMpKEluZGV4KSk7Il19 */\\n/*@ sourceURL=/Users/codychoi/Desktop/meshn/pages/index.js */\")));\n    }\n  }]);\n\n  return Index;\n}(React.Component);\n\nvar userSelector = createSelector(function (state) {\n  return state.user;\n}, function (user) {\n  return user;\n});\nvar bookedTimesSelector = createSelector(function (state) {\n  return state.bookedTimes;\n}, function (bookedTimes) {\n  return bookedTimes;\n});\nvar mapStateToProps = createSelector(userSelector, bookedTimesSelector, function (user, bookedTimes) {\n  return {\n    user: user,\n    bookedTimes: bookedTimes\n  };\n});\nvar mapActionsToProps = {\n  onUpdateUser: updateUser,\n  onGetBookedTimes: getBookedTimes\n};\nexport default Layout(connect(mapStateToProps, mapActionsToProps)(Index));","map":{"version":3,"sources":["/Users/codychoi/Desktop/meshn/pages/index.js"],"names":["Link","Layout","createSelector","connect","updateUser","getBookedTimes","Log","Login","firebaseApp","AppBar","Index","props","auth","signOut","onUpdateUser","onAuthStateChanged","user","onGetBookedTimes","user_email","bookedTimes","React","Component","userSelector","state","bookedTimesSelector","mapStateToProps","mapActionsToProps"],"mappings":"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","sourcesContent":["import Link from 'next/link';\nimport Layout from '../components/Layout'\nimport { createSelector } from 'reselect'\nimport { connect } from 'react-redux'\nimport { updateUser } from '../redux/actions/user-actions'\nimport { getBookedTimes } from '../redux/actions/gym-actions.js'\nimport Log from '../components/Log'\nimport Login from '../components/Login'\nimport firebaseApp from '../components/Requests/FirebaseConfig'\nimport AppBar from '../components/AppBar'\nimport \"../styles/style.scss\"\n\nclass Index extends React.Component {\n\n  constructor(props) {\n    super(props)\n  }\n\n  logout = () => {\n    firebaseApp.auth().signOut()\n    this.props.onUpdateUser(null)\n  }\n\n  componentDidMount() {\n    // this.props.onAuthListener();\n    firebaseApp.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.props.onUpdateUser(user)\n        this.props.onGetBookedTimes(this.props.user.user_email, 'user')\n      } else {\n         this.props.onUpdateUser(null);\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        {this.props.user ? \n          <div className=\"container\">\n            <AppBar title=\"Activity Log\"/>\n            <Log \n              type=\"user\"\n              data={this.props.bookedTimes}\n            />\n          </div>\n         : <Login />}\n         <style jsx global>{`\n            .bottomNav {\n               display: ${this.props.user ? null : 'none'}\n              }\n          `}\n          </style>\n      </div>\n    )\n  }\n\n}\n\nconst userSelector = createSelector(\n  state => state.user,\n  user => user\n)\n\nconst bookedTimesSelector = createSelector(\n  state => state.bookedTimes,\n  bookedTimes => bookedTimes\n)\n\nconst mapStateToProps = createSelector(\n  userSelector,\n  bookedTimesSelector,\n  (user, bookedTimes) => ({\n    user,\n    bookedTimes\n  })\n);\n\nconst mapActionsToProps = {\n  onUpdateUser: updateUser,\n  onGetBookedTimes: getBookedTimes,\n}\n\nexport default Layout(connect(mapStateToProps, mapActionsToProps)(Index));"]},"metadata":{},"sourceType":"module"}