{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/codychoi/Desktop/meshn/components/Log.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Button from '@material-ui/core/Button';\nimport * as moment from 'moment';\n\nvar Log =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Log, _React$Component);\n\n  function Log(props) {\n    var _this;\n\n    _classCallCheck(this, Log);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Log).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onHandleGymBooking\", function () {\n      _this.props.chooseGym(_this.props.data);\n\n      _this.props.openModal(_this.props.data);\n\n      var decomposedNameArray = _this.props.data.name.split('/');\n\n      var gymDocId = decomposedNameArray.splice(decomposedNameArray.length - 1)[0];\n\n      _this.props.getBookedTimes(gymDocId, 'gym');\n    });\n\n    return _this;\n  }\n\n  _createClass(Log, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          data = _this$props.data,\n          type = _this$props.type;\n\n      if (type === 'user') {\n        data.sort(function (a, b) {\n          return new Date(a.day) - new Date(b.day);\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"jsx-1501408521\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, type === 'booking' && React.createElement(Paper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"jsx-1501408521\" + \" \" + \"logContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"jsx-1501408521\" + \" \" + \"gymName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, data.fields.name.stringValue), React.createElement(\"img\", {\n        src: \"https://via.placeholder.com/240x90C\",\n        alt: \"\".concat(data.fields.name, \" image\"),\n        className: \"jsx-1501408521\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"jsx-1501408521\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Location: \", data.fields.location.stringValue), React.createElement(\"div\", {\n        className: \"jsx-1501408521\" + \" \" + \"availabilityContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(ExpansionPanel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(ExpansionPanelSummary, {\n        expandIcon: React.createElement(ExpandMoreIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }),\n        \"aria-controls\": \"panel1a-content\",\n        id: \"panel1a-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Hours\")), React.createElement(ExpansionPanelDetails, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"jsx-1501408521\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, data.fields.availability.arrayValue.values.map(function (slot, index) {\n        return React.createElement(\"p\", {\n          key: index,\n          className: \"jsx-1501408521\" + \" \" + \"timeSlot\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, slot.mapValue.fields.day.stringValue, \" - \", slot.mapValue.fields.start_time.stringValue ? \"\".concat(moment(slot.mapValue.fields.start_time.stringValue, 'HH:mm:ss').format('h:mm a'), \" - \").concat(moment(slot.mapValue.fields.end_time.stringValue, 'HH:mm:ss').format('h:mm a')) : slot.mapValue.fields.status.stringValue);\n      }))))), React.createElement(\"div\", {\n        className: \"jsx-1501408521\" + \" \" + \"bookBtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.onHandleGymBooking,\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Book\")))), type === 'user' && data && data.map(function (log) {\n        if (new Date(log.day) >= new Date().setDate(new Date().getDate() - 1)) {\n          return React.createElement(Paper, {\n            key: log.modified,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"jsx-1501408521\" + \" \" + \"logContainer\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"jsx-1501408521\" + \" \" + \"logHeader\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, React.createElement(\"h1\", {\n            className: \"jsx-1501408521\" + \" \" + \"gymName\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          }, log.gym_name), React.createElement(\"h4\", {\n            className: \"jsx-1501408521\" + \" \" + \"bookedDay\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }, \"Booked for: \", moment(log.day).format('MMMM Do YYYY'))), React.createElement(\"img\", {\n            src: \"https://via.placeholder.com/240x90C\",\n            alt: \"\".concat(log.gym_name, \" image\"),\n            className: \"jsx-1501408521\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"jsx-1501408521\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            className: \"jsx-1501408521\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, \"Location: \", log.gym_location), React.createElement(\"p\", {\n            className: \"jsx-1501408521\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }, \"Time booked: \", moment(log.start_time, 'HH:mm:ss').format('h:mm a'), \" - \", moment(log.end_time, 'HH:mm:ss').format('h:mm a')))));\n        } else {\n          return null;\n        }\n      }), React.createElement(_JSXStyle, {\n        id: \"1501408521\",\n        __self: this\n      }, \"img.jsx-1501408521{margin:16px 0;}.availabilityContainer.jsx-1501408521{margin:16px 0;}.availabilityContainer.jsx-1501408521 p.jsx-1501408521{margin-left:16px;}.bookBtn.jsx-1501408521{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jb2R5Y2hvaS9EZXNrdG9wL21lc2huL2NvbXBvbmVudHMvTG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1HUyxBQUcyQixBQUdBLEFBR0csQUFHSixjQVJmLEFBR0EsR0FHQSx5REFJRCxpR0FBQyIsImZpbGUiOiIvVXNlcnMvY29keWNob2kvRGVza3RvcC9tZXNobi9jb21wb25lbnRzL0xvZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFwZXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvUGFwZXInO1xuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvVHlwb2dyYXBoeSc7XG5pbXBvcnQgRXhwYW5zaW9uUGFuZWwgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvRXhwYW5zaW9uUGFuZWwnO1xuaW1wb3J0IEV4cGFuc2lvblBhbmVsU3VtbWFyeSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9FeHBhbnNpb25QYW5lbFN1bW1hcnknO1xuaW1wb3J0IEV4cGFuc2lvblBhbmVsRGV0YWlscyBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9FeHBhbnNpb25QYW5lbERldGFpbHMnO1xuaW1wb3J0IEV4cGFuZE1vcmVJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9FeHBhbmRNb3JlJztcbmltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJztcblxuaW1wb3J0ICogYXMgbW9tZW50IGZyb20gJ21vbWVudCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9nIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgfVxuXG4gIG9uSGFuZGxlR3ltQm9va2luZyA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLmNob29zZUd5bSh0aGlzLnByb3BzLmRhdGEpXG4gICAgdGhpcy5wcm9wcy5vcGVuTW9kYWwodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBsZXQgZGVjb21wb3NlZE5hbWVBcnJheSA9IHRoaXMucHJvcHMuZGF0YS5uYW1lLnNwbGl0KCcvJylcbiAgICBsZXQgZ3ltRG9jSWQgPSBkZWNvbXBvc2VkTmFtZUFycmF5LnNwbGljZShkZWNvbXBvc2VkTmFtZUFycmF5Lmxlbmd0aCAtIDEpWzBdXG4gICAgdGhpcy5wcm9wcy5nZXRCb29rZWRUaW1lcyhneW1Eb2NJZCwgJ2d5bScpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge2RhdGEsIHR5cGV9ID0gdGhpcy5wcm9wc1xuXG4gICAgaWYgKHR5cGUgPT09ICd1c2VyJykge1xuICAgICAgZGF0YS5zb3J0KChhLGIpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGEuZGF5KSAtIG5ldyBEYXRlKGIuZGF5KVxuICAgICAgfSlcbiAgICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAge3R5cGUgPT09ICdib29raW5nJyAmJlxuICAgICAgICA8UGFwZXI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dDb250YWluZXJcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJneW1OYW1lXCI+XG4gICAgICAgICAgICAgIHtkYXRhLmZpZWxkcy5uYW1lLnN0cmluZ1ZhbHVlfVxuICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzI0MHg5MENcIiBhbHQ9e2Ake2RhdGEuZmllbGRzLm5hbWV9IGltYWdlYH0vPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIExvY2F0aW9uOiB7ZGF0YS5maWVsZHMubG9jYXRpb24uc3RyaW5nVmFsdWV9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF2YWlsYWJpbGl0eUNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxFeHBhbnNpb25QYW5lbD5cbiAgICAgICAgICAgICAgICAgICAgPEV4cGFuc2lvblBhbmVsU3VtbWFyeVxuICAgICAgICAgICAgICAgICAgICAgIGV4cGFuZEljb249ezxFeHBhbmRNb3JlSWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICBhcmlhLWNvbnRyb2xzPVwicGFuZWwxYS1jb250ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cInBhbmVsMWEtaGVhZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5PkhvdXJzPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgICA8L0V4cGFuc2lvblBhbmVsU3VtbWFyeT5cbiAgICAgICAgICAgICAgICAgICAgPEV4cGFuc2lvblBhbmVsRGV0YWlscz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge2RhdGEuZmllbGRzLmF2YWlsYWJpbGl0eS5hcnJheVZhbHVlLnZhbHVlcy5tYXAoKHNsb3QsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0aW1lU2xvdFwiIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nsb3QubWFwVmFsdWUuZmllbGRzLmRheS5zdHJpbmdWYWx1ZX0gLSB7c2xvdC5tYXBWYWx1ZS5maWVsZHMuc3RhcnRfdGltZS5zdHJpbmdWYWx1ZSA/IGAke21vbWVudChzbG90Lm1hcFZhbHVlLmZpZWxkcy5zdGFydF90aW1lLnN0cmluZ1ZhbHVlLCAnSEg6bW06c3MnKS5mb3JtYXQoJ2g6bW0gYScpfSAtICR7bW9tZW50KHNsb3QubWFwVmFsdWUuZmllbGRzLmVuZF90aW1lLnN0cmluZ1ZhbHVlLCAnSEg6bW06c3MnKS5mb3JtYXQoJ2g6bW0gYScpfWAgOiBzbG90Lm1hcFZhbHVlLmZpZWxkcy5zdGF0dXMuc3RyaW5nVmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9FeHBhbnNpb25QYW5lbERldGFpbHM+XG4gICAgICAgICAgICAgICAgICA8L0V4cGFuc2lvblBhbmVsPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9va0J0blwiPlxuICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e3RoaXMub25IYW5kbGVHeW1Cb29raW5nfSB2YXJpYW50PVwiY29udGFpbmVkXCIgY29sb3I9XCJwcmltYXJ5XCI+XG4gICAgICAgICAgICAgICAgQm9va1xuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1BhcGVyPlxuICAgICAgfVxuICAgICAgeyh0eXBlID09PSAndXNlcicgJiYgZGF0YSkgJiZcbiAgICAgICAgZGF0YS5tYXAobG9nID0+IHtcbiAgICAgICAgICBpZihuZXcgRGF0ZShsb2cuZGF5KSA+PSBuZXcgRGF0ZSgpLnNldERhdGUoKG5ldyBEYXRlKS5nZXREYXRlKCkgLSAxKSkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPFBhcGVyIGtleT17bG9nLm1vZGlmaWVkfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvZ0NvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2dIZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImd5bU5hbWVcIj57bG9nLmd5bV9uYW1lfTwvaDE+XG4gICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJib29rZWREYXlcIj5Cb29rZWQgZm9yOiB7bW9tZW50KGxvZy5kYXkpLmZvcm1hdCgnTU1NTSBEbyBZWVlZJyl9PC9oND5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMjQweDkwQ1wiIGFsdD17YCR7bG9nLmd5bV9uYW1lfSBpbWFnZWB9Lz5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxwPkxvY2F0aW9uOiB7bG9nLmd5bV9sb2NhdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwPlRpbWUgYm9va2VkOiB7bW9tZW50KGxvZy5zdGFydF90aW1lLCAnSEg6bW06c3MnKS5mb3JtYXQoJ2g6bW0gYScpfSAtIHttb21lbnQobG9nLmVuZF90aW1lLCAnSEg6bW06c3MnKS5mb3JtYXQoJ2g6bW0gYScpfTwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L1BhcGVyPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgfSl9XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIGltZyB7XG4gICAgICAgICAgICBtYXJnaW46IDE2cHggMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmF2YWlsYWJpbGl0eUNvbnRhaW5lciB7XG4gICAgICAgICAgICBtYXJnaW46IDE2cHggMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLmF2YWlsYWJpbGl0eUNvbnRhaW5lciBwIHtcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxNnB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAuYm9va0J0biB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZFxuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICk7XG4gIH1cbn0iXX0= */\\n/*@ sourceURL=/Users/codychoi/Desktop/meshn/components/Log.js */\"));\n    }\n  }]);\n\n  return Log;\n}(React.Component);\n\nexport { Log as default };","map":{"version":3,"sources":["/Users/codychoi/Desktop/meshn/components/Log.js"],"names":["React","Paper","Typography","ExpansionPanel","ExpansionPanelSummary","ExpansionPanelDetails","ExpandMoreIcon","Button","moment","Log","props","chooseGym","data","openModal","decomposedNameArray","name","split","gymDocId","splice","length","getBookedTimes","type","sort","a","b","Date","day","fields","stringValue","location","availability","arrayValue","values","map","slot","index","mapValue","start_time","format","end_time","status","onHandleGymBooking","log","setDate","getDate","modified","gym_name","gym_location","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Button from '@material-ui/core/Button';\n\nimport * as moment from 'moment'\n\nexport default class Log extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  onHandleGymBooking = () => {\n    this.props.chooseGym(this.props.data)\n    this.props.openModal(this.props.data);\n    let decomposedNameArray = this.props.data.name.split('/')\n    let gymDocId = decomposedNameArray.splice(decomposedNameArray.length - 1)[0]\n    this.props.getBookedTimes(gymDocId, 'gym')\n  }\n\n  render() {\n    const {data, type} = this.props\n\n    if (type === 'user') {\n      data.sort((a,b) => {\n        return new Date(a.day) - new Date(b.day)\n      })\n    }\n\n  return (\n    <div>\n      {type === 'booking' &&\n        <Paper>\n          <div className=\"logContainer\">\n            <h1 className=\"gymName\">\n              {data.fields.name.stringValue}\n            </h1>\n            <img src=\"https://via.placeholder.com/240x90C\" alt={`${data.fields.name} image`}/>\n              <div>\n                Location: {data.fields.location.stringValue}\n              </div>\n              <div className=\"availabilityContainer\">\n                <ExpansionPanel>\n                    <ExpansionPanelSummary\n                      expandIcon={<ExpandMoreIcon />}\n                      aria-controls=\"panel1a-content\"\n                      id=\"panel1a-header\"\n                    >\n                      <Typography>Hours</Typography>\n                    </ExpansionPanelSummary>\n                    <ExpansionPanelDetails>\n                      <div>\n                        {data.fields.availability.arrayValue.values.map((slot, index) => {\n                          return(\n                            \n                            <p className=\"timeSlot\" key={index}>\n                              {slot.mapValue.fields.day.stringValue} - {slot.mapValue.fields.start_time.stringValue ? `${moment(slot.mapValue.fields.start_time.stringValue, 'HH:mm:ss').format('h:mm a')} - ${moment(slot.mapValue.fields.end_time.stringValue, 'HH:mm:ss').format('h:mm a')}` : slot.mapValue.fields.status.stringValue}\n                            </p>\n                          )\n                        })}\n                      </div>\n                    </ExpansionPanelDetails>\n                  </ExpansionPanel>\n              </div>\n            <div className=\"bookBtn\">\n              <Button onClick={this.onHandleGymBooking} variant=\"contained\" color=\"primary\">\n                Book\n              </Button>\n            </div>\n          </div>\n        </Paper>\n      }\n      {(type === 'user' && data) &&\n        data.map(log => {\n          if(new Date(log.day) >= new Date().setDate((new Date).getDate() - 1)) {\n            return (\n              <Paper key={log.modified}>\n                <div className=\"logContainer\">\n                  <div className=\"logHeader\">\n                    <h1 className=\"gymName\">{log.gym_name}</h1>\n                    <h4 className=\"bookedDay\">Booked for: {moment(log.day).format('MMMM Do YYYY')}</h4>\n                  </div>\n                  <img src=\"https://via.placeholder.com/240x90C\" alt={`${log.gym_name} image`}/>\n                  <div>\n                    <p>Location: {log.gym_location}</p>\n                    <p>Time booked: {moment(log.start_time, 'HH:mm:ss').format('h:mm a')} - {moment(log.end_time, 'HH:mm:ss').format('h:mm a')}</p>\n                  </div>\n                </div>\n              </Paper>\n            )\n          } else {\n            return null\n          }\n        })}\n      <style jsx>\n        {`\n          img {\n            margin: 16px 0;\n          }\n          .availabilityContainer {\n            margin: 16px 0;\n          }\n          .availabilityContainer p {\n            margin-left: 16px;\n          }\n          .bookBtn {\n            display: flex;\n            justify-content: flex-end\n          }\n        `}\n      </style>\n    </div>\n  );\n  }\n}"]},"metadata":{},"sourceType":"module"}